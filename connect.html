<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Connect with others in our community forum.">
  <title>Connect with Others</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
</head>
<body class="font-sans bg-gray-50 text-gray-800">

  <!-- Header -->
  <header class="flex items-center justify-between p-4 bg-blue-800 text-white shadow-md">
    <div class="flex items-center space-x-2">
      <img src="assets/unnamed-removebg-preview.png" alt="DebtBud Logo" class="w-10 h-10">
      <span class="text-xl font-bold">DebtBud</span>
    </div>
    <nav>
      <ul class="flex space-x-4">
        <li><a href="index.html" class="hover:underline">Home</a></li>
        <li><a href="budgeting.html" class="hover:underline">Budgeting</a></li>
        <li><a href="loan_calculator.html" class="hover:underline">Calculator</a></li>
        <li><a href="connect.html" class="hover:underline">Connect</a></li>
        <li><a href="#contact" class="hover:underline">Contact</a></li>
      </ul>
    </nav>
  </header>

  <!-- Forum Section -->
  <section id="forum" class="py-16 bg-gray-100 text-center">
    <h2 class="text-3xl font-bold text-blue-800 mb-8">Community Forum</h2>
    
    <!-- New Thread Form -->
    <div class="max-w-xl mx-auto bg-white p-6 rounded-lg shadow-md mb-8">
      <h3 class="text-xl font-semibold text-gray-800 mb-4">Start a New Discussion</h3>
      <form id="newThreadForm" class="space-y-4">
        <div>
          <label for="thread-title" class="block text-left font-medium text-gray-700">Thread Title</label>
          <input type="text" id="thread-title" name="thread-title" required
            class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-800"
            placeholder="Enter thread title">
        </div>
        <div>
          <label for="thread-description" class="block text-left font-medium text-gray-700">Description</label>
          <textarea id="thread-description" name="thread-description" required
            class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-800"
            placeholder="Enter thread description"></textarea>
        </div>
        <button type="submit" class="px-6 py-3 text-lg font-semibold text-white bg-blue-800 rounded hover:bg-blue-900">
          Create Thread
        </button>
      </form>
    </div>

    <!-- Threads List -->
    <div id="threadsList" class="max-w-4xl mx-auto">
      <!-- Thread items will be dynamically loaded here -->
    </div>
  </section>

  <!-- JavaScript -->
  <script>
    // Simulated backend for threads
    let threads = [];

    // Add new thread
    const newThreadForm = document.getElementById('newThreadForm');
    const threadsList = document.getElementById('threadsList');

    newThreadForm.addEventListener('submit', (event) => {
      event.preventDefault();

      const title = document.getElementById('thread-title').value;
      const description = document.getElementById('thread-description').value;

      // Create a new thread object
      const newThread = {
        id: threads.length + 1,
        title,
        description,
        replies: [],
      };

      threads.push(newThread);
      displayThreads();
      newThreadForm.reset();
    });

    // Display threads
    function displayThreads() {
      threadsList.innerHTML = '';
      threads.forEach((thread) => {
        const threadElement = document.createElement('div');
        threadElement.classList.add('bg-white', 'p-6', 'rounded-lg', 'shadow-md', 'mb-4');

        threadElement.innerHTML = `
          <h3 class="text-xl font-semibold text-blue-800">${thread.title}</h3>
          <p class="text-gray-700">${thread.description}</p>
          <button onclick="viewThread(${thread.id})" class="mt-4 px-4 py-2 text-white bg-blue-800 rounded hover:bg-blue-900">
            View Discussion
          </button>
        `;
        threadsList.appendChild(threadElement);
      });
    }

    // View a thread and its replies
    function viewThread(threadId) {
      const thread = threads.find((t) => t.id === threadId);
      if (!thread) return;

      const threadHTML = `
        <div class="bg-white p-6 rounded-lg shadow-md mb-4">
          <h3 class="text-xl font-semibold text-blue-800">${thread.title}</h3>
          <p class="text-gray-700">${thread.description}</p>
          <div id="replies" class="mt-6">
            <h4 class="text-lg font-semibold text-gray-800">Replies:</h4>
            ${thread.replies.map((reply) => `<p class="text-gray-700 mt-2">${reply}</p>`).join('')}
          </div>
          <form id="replyForm" onsubmit="addReply(event, ${thread.id})" class="mt-4">
            <textarea id="reply-text" class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-800" placeholder="Write your reply here..."></textarea>
            <button type="submit" class="mt-4 px-4 py-2 text-white bg-blue-800 rounded hover:bg-blue-900">Submit Reply</button>
          </form>
        </div>
      `;

      threadsList.innerHTML = threadHTML;
    }

    // Add a reply to a thread
    function addReply(event, threadId) {
      event.preventDefault();
      const replyText = document.getElementById('reply-text').value;
      const thread = threads.find((t) => t.id === threadId);
      if (thread && replyText.trim() !== '') {
        thread.replies.push(replyText);
        viewThread(threadId);
      }
    }
  </script>
</body>
</html>
